
<import src="../../templates/nav/info.wxml" />
<import src="../../templates/nav/normal.wxml" />


<camera device-position="back" flash="off"  class="bg">

    <!-- 顶部方向 -->
    <cover-view class='direction'>      
        <cover-image class='direction_bg' src='../../images/menu_bg_revese.png'></cover-image>  
         <cover-view class='direction_center'>
            <cover-image src='../../images/arrow.png' class='direction_arrow'></cover-image>
         </cover-view>
         <cover-view>{{directionName}}</cover-view>
    </cover-view>

    
    <template is="nav_info" data="{{navInfo}}" />
    <template is="nav_normal" data="{{imageList,navDirection,navIconHeight}}" />


    <block wx:for="{{markList}}" wx:key="index">
        <cover-view 
            class='mark {{item.id == clickMarkID ? "select":""}}' 
            style='top:{{item.y}}rpx;left:{{item.x}}rpx'
            data-mark_id="{{item.id}}"
        >
            <cover-image 
                class='icon' 
                catchtap='clickMark'
                src='../../images/menu_address.png' >
            </cover-image>
            <cover-view>    
                <cover-view class='title'>{{item.name}}</cover-view>
                <cover-view  class='title'>{{item.distance}}米</cover-view>
                <cover-view  
                    class='title' 
                    data-mark_id="{{item.id}}"
                >详情</cover-view>
            </cover-view>
        </cover-view>
    </block>

    
    <!-- 底部菜单 -->
    <cover-view class='menu'>      
        <cover-image class='menu_bg' src='../../images/menu_bg.png'></cover-image>  
        <block  wx:if="{{isPack == false}}" >
            <cover-image class='menu_unpack' src='../../images/btn_unpack.png' catchtap="menuChange"></cover-image>  
        </block>
        <block  wx:else >
            <cover-image class='menu_unpack' src='../../images/btn_pack.png' catchtap="menuChange"></cover-image>  
            <block wx:for="{{menuList}}">
                <cover-view 
                    class='node {{ clickMenuID == item.id? "click":""}} ' 
                    catchtap="menuClick"
                    data-menu_id="{{item.id}}"
                > 
                    <cover-view >{{item.name}}</cover-view>
                </cover-view>
            </block>
        </block>
    </cover-view>
</camera>


    <!-- <cover-view style='position:absolute;bottom:80px' catchtap='clickMark' data-target_id='1'>导航 </cover-view> -->


    <!-- 导航箭头 -->
     <!-- hidden='{{!navIsOpen}}' -->
    <!-- <cover-view class='nav_box' >
        <cover-view class='nav'>
            <block wx:for="{{imageList}}">
                <cover-image 
                    class='nav_icon' 
                    src='{{navIcon}}'                
                    style='top:{{item.y +800 }}rpx;left:{{item.x  + 325}}rpx ; width: {{item.w}}rpx; height: {{item.h}}rpx;'
                ></cover-image>
                 width: {{item.w}}px; height: {{item.h}}px;
                <cover-view
                    class='nav_icon__cyc {{ compassStep == index? "nav_icon__light":""}}' 
                    src='{{navIcon}}'                
                    style='top:{{item.y + 900}}rpx;left:{{item.x  + 325}}rpx;width:{{item.w}}rpx;height:{{item.h}}rpx'
                >前</cover-view>

            </block> 

        </cover-view>
    </cover-view> -->
